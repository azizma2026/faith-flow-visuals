@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 40 33% 98%;
    --foreground: 30 15% 20%;

    --card: 40 30% 96%;
    --card-foreground: 30 15% 20%;

    --popover: 40 30% 96%;
    --popover-foreground: 30 15% 20%;

    --primary: 170 55% 26%; /* Islamic green */
    --primary-foreground: 42 77% 48%; /* Gold for primary text */

    --secondary: 40 30% 92%;
    --secondary-foreground: 30 15% 25%;

    --muted: 37 46% 91%;
    --muted-foreground: 30 10% 40%;

    --accent: 42 77% 48%; /* Gold accent */
    --accent-foreground: 30 15% 20%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 40 20% 80%;
    --input: 40 20% 80%;
    --ring: 30 15% 20%;

    --radius: 0.75rem; /* Slightly more rounded */

    --sidebar-background: 40 33% 98%;
    --sidebar-foreground: 30 15% 30%;
    --sidebar-primary: 30 15% 15%;
    --sidebar-primary-foreground: 40 33% 98%;
    --sidebar-accent: 40 30% 90%;
    --sidebar-accent-foreground: 30 15% 15%;
    --sidebar-border: 40 20% 80%;
    --sidebar-ring: 170 55% 26%;
  }

  .dark {
    --background: 222 38% 11%;
    --foreground: 37 21% 91%;

    --card: 222.2 47% 11%;
    --card-foreground: 37 21% 91%;

    --popover: 222.2 47% 11%;
    --popover-foreground: 37 21% 91%;

    --primary: 170 50% 22%;
    --primary-foreground: 42 77% 48%;

    --secondary: 210 40% 16%;
    --secondary-foreground: 37 21% 91%;

    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;

    --accent: 42 77% 48%;
    --accent-foreground: 222.2 47.4% 11.2%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 42 77% 48%;
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }

  /* High Contrast Mode */
  .high-contrast {
    --background: 0 0% 0%;
    --foreground: 0 0% 100%;

    --card: 0 0% 0%;
    --card-foreground: 0 0% 100%;

    --popover: 0 0% 0%;
    --popover-foreground: 0 0% 100%;

    --primary: 60 100% 50%; /* Bright yellow for maximum contrast */
    --primary-foreground: 0 0% 0%;

    --secondary: 0 0% 0%;
    --secondary-foreground: 60 100% 50%;

    --muted: 0 0% 20%;
    --muted-foreground: 0 0% 100%;

    --accent: 60 100% 50%;
    --accent-foreground: 0 0% 0%;

    --destructive: 0 100% 50%;
    --destructive-foreground: 0 0% 0%;

    --border: 0 0% 100%;
    --input: 0 0% 100%;
    --ring: 60 100% 50%;
  }
}

@layer utilities {
  .islamic-pattern-bg {
    background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%231D645D' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
  }
  
  .mosque-silhouette-bg {
    background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0.9) 100%), url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%25' height='100%25' viewBox='0 0 1200 800'%3E%3Cdefs%3E%3ClinearGradient id='a' gradientUnits='userSpaceOnUse' x1='600' y1='25' x2='600' y2='777'%3E%3Cstop offset='0' stop-color='%23E2D1C3'/%3E%3Cstop offset='1' stop-color='%231D645D'/%3E%3C/linearGradient%3E%3ClinearGradient id='b' gradientUnits='userSpaceOnUse' x1='650' y1='25' x2='650' y2='777'%3E%3Cstop offset='0' stop-color='%23E2D1C3'/%3E%3Cstop offset='1' stop-color='%231D645D'/%3E%3C/linearGradient%3E%3ClinearGradient id='c' gradientUnits='userSpaceOnUse' x1='700' y1='25' x2='700' y2='777'%3E%3Cstop offset='0' stop-color='%23E2D1C3'/%3E%3Cstop offset='1' stop-color='%231D645D'/%3E%3C/linearGradient%3E%3ClinearGradient id='d' gradientUnits='userSpaceOnUse' x1='750' y1='25' x2='750' y2='777'%3E%3Cstop offset='0' stop-color='%23E2D1C3'/%3E%3Cstop offset='1' stop-color='%231D645D'/%3E%3C/linearGradient%3E%3ClinearGradient id='e' gradientUnits='userSpaceOnUse' x1='800' y1='25' x2='800' y2='777'%3E%3Cstop offset='0' stop-color='%23E2D1C3'/%3E%3Cstop offset='1' stop-color='%231D645D'/%3E%3C/linearGradient%3E%3ClinearGradient id='f' gradientUnits='userSpaceOnUse' x1='850' y1='25' x2='850' y2='777'%3E%3Cstop offset='0' stop-color='%23E2D1C3'/%3E%3Cstop offset='1' stop-color='%231D645D'/%3E%3C/linearGradient%3E%3ClinearGradient id='g' gradientUnits='userSpaceOnUse' x1='900' y1='25' x2='900' y2='777'%3E%3Cstop offset='0' stop-color='%23E2D1C3'/%3E%3Cstop offset='1' stop-color='%231D645D'/%3E%3C/linearGradient%3E%3ClinearGradient id='h' gradientUnits='userSpaceOnUse' x1='950' y1='25' x2='950' y2='777'%3E%3Cstop offset='0' stop-color='%23E2D1C3'/%3E%3Cstop offset='1' stop-color='%231D645D'/%3E%3C/linearGradient%3E%3ClinearGradient id='i' gradientUnits='userSpaceOnUse' x1='1000' y1='25' x2='1000' y2='777'%3E%3Cstop offset='0' stop-color='%23E2D1C3'/%3E%3Cstop offset='1' stop-color='%231D645D'/%3E%3C/linearGradient%3E%3ClinearGradient id='j' gradientUnits='userSpaceOnUse' x1='1050' y1='25' x2='1050' y2='777'%3E%3Cstop offset='0' stop-color='%23E2D1C3'/%3E%3Cstop offset='1' stop-color='%231D645D'/%3E%3C/linearGradient%3E%3ClinearGradient id='k' gradientUnits='userSpaceOnUse' x1='1100' y1='25' x2='1100' y2='777'%3E%3Cstop offset='0' stop-color='%23E2D1C3'/%3E%3Cstop offset='1' stop-color='%231D645D'/%3E%3C/linearGradient%3E%3ClinearGradient id='l' gradientUnits='userSpaceOnUse' x1='1150' y1='25' x2='1150' y2='777'%3E%3Cstop offset='0' stop-color='%23E2D1C3'/%3E%3Cstop offset='1' stop-color='%231D645D'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg fill-opacity='0.1'%3E%3Crect fill='url(%23a)' width='1200' height='800'/%3E%3Crect fill='url(%23b)' x='100' width='1100' height='800'/%3E%3Crect fill='url(%23c)' x='200' width='1000' height='800'/%3E%3Crect fill='url(%23d)' x='300' width='900' height='800'/%3E%3Crect fill='url(%23e)' x='400' width='800' height='800'/%3E%3Crect fill='url(%23f)' x='500' width='700' height='800'/%3E%3Crect fill='url(%23g)' x='600' width='600' height='800'/%3E%3Crect fill='url(%23h)' x='700' width='500' height='800'/%3E%3Crect fill='url(%23i)' x='800' width='400' height='800'/%3E%3Crect fill='url(%23j)' x='900' width='300' height='800'/%3E%3Crect fill='url(%23k)' x='1000' width='200' height='800'/%3E%3Crect fill='url(%23l)' x='1100' width='100' height='800'/%3E%3C/g%3E%3Cg fill-opacity='0.08'%3E%3Crect fill='url(%23a)' width='1200' height='800'/%3E%3Crect fill='url(%23b)' x='100' width='1100' height='800'/%3E%3Crect fill='url(%23c)' x='200' width='1000' height='800'/%3E%3Crect fill='url(%23d)' x='300' width='900' height='800'/%3E%3Crect fill='url(%23e)' x='400' width='800' height='800'/%3E%3Crect fill='url(%23f)' x='500' width='700' height='800'/%3E%3Crect fill='url(%23g)' x='600' width='600' height='800'/%3E%3Crect fill='url(%23h)' x='700' width='500' height='800'/%3E%3Crect fill='url(%23i)' x='800' width='400' height='800'/%3E%3Crect fill='url(%23j)' x='900' width='300' height='800'/%3E%3Crect fill='url(%23k)' x='1000' width='200' height='800'/%3E%3Crect fill='url(%23l)' x='1100' width='100' height='800'/%3E%3C/g%3E%3Cpath d='M30,650 L60,680 L90,680 L120,680 L150,680 L180,680 L210,680 L240,680 L270,680 L300,680 L330,680 L360,680 L390,680 L420,680 L450,680 L480,680 L510,680 L540,680 L570,680 L600,680 L630,680 L660,680 L690,680 L720,680 L750,680 L780,680 L810,680 L840,680 L870,650 L900,650 L930,650 L960,680 L990,680 L1020,680 L1050,680 L1080,680 L1110,650 L1140,650 L1170,650 L1200,680 L1200,800 L0,800 L0,680 Z' fill='%231D645D' fill-opacity='0.2'/%3E%3C/svg%3E");
    background-attachment: fixed;
    background-size: cover;
  }

  .prayer-countdown {
    @apply bg-gradient-to-r from-islamic-green/80 to-islamic-blue/80 text-white rounded-lg shadow-lg;
  }

  .feature-icon {
    @apply bg-gradient-to-br from-white to-islamic-beige rounded-2xl shadow-md hover:shadow-lg transition-all duration-300 ease-in-out border border-islamic-sand overflow-hidden hover:scale-105;
  }

  .islamic-gold-text {
    @apply text-islamic-gold font-semibold;
  }

  quran-verse-container {
    @apply bg-islamic-light-beige p-5 rounded-lg border border-islamic-warm-beige my-4 relative overflow-hidden;
    box-shadow: 0 3px 10px rgba(0,0,0,0.05);
  }
  
  .quran-verse-container::before,
  .quran-verse-container::after {
    content: "";
    position: absolute;
    height: 10px;
    left: 0;
    right: 0;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='10' viewBox='0 0 80 10'%3E%3Cpath d='M0,10 L10,0 L20,10 L30,0 L40,10 L50,0 L60,10 L70,0 L80,10 L80,0 L0,0 L0,10 Z' fill='%23d5c7a9' fill-opacity='0.4'/%3E%3C/svg%3E");
  }
  
  .quran-verse-container::before {
    top: 0;
  }
  
  .quran-verse-container::after {
    bottom: 0;
    transform: rotate(180deg);
  }

  .quran-arabic-text {
    color: #564F47;
    text-shadow: 0.5px 0.5px 0px rgba(0,0,0,0.1);
  }
  
  .surah-header {
    @apply bg-islamic-medium-beige text-islamic-text-brown text-center py-4 px-6 mb-6 rounded-lg border border-islamic-warm-beige relative overflow-hidden;
  }
  
  .surah-header::before,
  .surah-header::after {
    content: "";
    position: absolute;
    height: 15px;
    left: 0;
    right: 0;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='15' viewBox='0 0 100 15'%3E%3Cpath d='M0,0 C10,10 20,15 30,15 C40,15 50,10 60,5 C70,0 80,0 90,5 C100,10 100,15 100,15 L100,0 L0,0 L0,0 Z' fill='%238A7356' fill-opacity='0.2'/%3E%3C/svg%3E");
  }
  
  .surah-header::before {
    top: 0;
  }
  
  .surah-header::after {
    bottom: 0;
    transform: rotate(180deg);
  }

  @keyframes gentle-pulse {
    0% { opacity: 0.8; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.03); }
    100% { opacity: 0.8; transform: scale(1); }
  }

  .pulse-animation {
    animation: gentle-pulse 3s infinite ease-in-out;
  }
  
  /* Font size utilities for accessibility */
  .text-size-normal {
    font-size: 1rem;
  }
  
  .text-size-large {
    font-size: 1.25rem;
  }
  
  .text-size-x-large {
    font-size: 1.5rem;
  }
  
  /* Focus indicators for keyboard navigation */
  .focus-visible:focus-visible {
    @apply outline-2 outline-offset-2 outline-islamic-gold;
  }
  
  /* Skip to content link for screen readers */
  .skip-link {
    @apply sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:p-4 focus:bg-background focus:text-foreground focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-islamic-gold focus:rounded-md;
  }
  
  /* Mosque-themed styles */
  .mosque-bg {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cpath d='M50 0 L90 40 L80 40 L80 100 L20 100 L20 40 L10 40 Z' fill='%23564f47' fill-opacity='0.2'/%3E%3C/svg%3E");
    background-repeat: repeat;
  }
  
  .font-arabic {
    font-family: 'Scheherazade New', 'Amiri', serif;
    direction: rtl;
    letter-spacing: 0.02em;
    line-height: 1.8;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }
  
  /* Accessibility improvements */
  a, button, input, select, textarea, [tabindex]:not([tabindex="-1"]) {
    @apply focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-islamic-gold;
  }
}

/* Font size modifier classes based on accessibility settings */
.font-size-normal {
  font-size: 1rem;
  line-height: 1.5;
}

.font-size-large {
  font-size: 1.25rem;
  line-height: 1.6;
}

.font-size-x-large {
  font-size: 1.5rem;
  line-height: 1.7;
}

/* High contrast specific overrides */
.high-contrast button {
  @apply border-2 border-white;
}

.high-contrast a {
  @apply underline;
}

.high-contrast input, .high-contrast select, .high-contrast textarea {
  @apply border-2 border-white bg-black text-white;
}

.high-contrast .feature-icon {
  @apply bg-black border-white;
}

.high-contrast .prayer-countdown {
  @apply bg-black border-2 border-white;
}

/* Adding Arabic font for prayer times */
@import url('https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Scheherazade+New:wght@400;700&family=Noto+Naskh+Arabic:wght@400;500;700&display=swap');

/* Quran styling */
.surah-bismillah {
  @apply text-center text-islamic-text-brown italic mb-8 text-lg;
}

.ayah-number {
  @apply inline-flex items-center justify-center w-8 h-8 rounded-full bg-islamic-warm-beige/40 text-islamic-text-brown mx-2 text-sm;
}

.quran-container {
  max-width: 900px;
  margin: 0 auto;
  padding: 2rem;
  background-color: #F8F4EA;
  border-radius: 1rem;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
}
